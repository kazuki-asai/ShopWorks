<%= form_with(model: color, class: "needs-validation") do |f| %>
  <%= render "layouts/message", model: color %>

  <div class="mb-3">
    <%= f.label :name, "カラー名", class: "form-label" %>
    <%= f.text_field :name, class: "form-control", required: true, placeholder: "例: ブラック, ホワイト, レッド" %>
  </div>

  <div class="mb-3">
    <%= f.label :hex_code, "カラーサンプル", class: "form-label" %>
    <div>
      <%= f.color_field :hex_code, class: "form-control form-control-color" %>
    </div>
  </div>

  <div class="mb-3">
    <%= f.label :position, "並び順", class: "form-label" %>
    <%= f.number_field :position, class: "form-control", min: 0, value: color.position || 0 %>
    <div class="form-text">小さい数字ほど先に表示されます</div>
  </div>

  <div class="mb-3">
    <% if admin? %>
      <%= f.label :shop_id, "ショップ", class: "form-label" %>
      <%= f.collection_select :shop_id, Shop.order(:name), :id, :name, { prompt: "選択してください" }, { class: "form-select", required: true } %>
    <% else %>
      <%= f.hidden_field :shop_id, value: current_user.shop_id %>
    <% end %>
  </div>

  <div class="d-flex gap-2">
    <%= f.submit '保存', class: "btn btn-primary" %>
    <%= link_to "キャンセル", colors_path, class: "btn btn-outline-secondary" %>
  </div>
<% end %>
